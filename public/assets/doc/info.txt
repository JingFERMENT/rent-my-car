Pour aller chercher la contrainte de clé étrangère: 
il faudrait aller sur la base SQL et voir la vue relationnelle
ON deleted
ON updated 


SELECT `categories`.`name` AS 'category_name', COUNT(`Vehicles`.`id_vehicle`) AS 'nb_vehicles'
FROM `Categories`
LEFT JOIN `Vehicles` ON `categories`.`id_category` = `vehicles`.`id_category`
GROUP BY `categories`.`name`
HAVING (`nb_vehicles`>2);

HAVING utilisera dans la fonction "agrégation" (MIN, MAX, COUNT, SUM, AVG) 

limit = 2 (constant)
page = 4 (utilisateur nous transmet)
offset = limit * (page - 1) 

public 
NOM entité + action 
offset = index 

Envoi des mails : 

/**
     * 
     * Méthode permettant de retourner la liste de tous les véhicules
     * 
     * @param bool $sortByAsc
     * 
     * @return array
     */
    public static function getAllVehicles(bool $sortByAsc, $start, $per_page, bool $isArchived = false): array|false
    {
        $pdo = Database::connect();

        if ($isArchived == false) {
            $archive = 'IS NULL';
        } else {
            $archive = 'IS NOT NULL';
        }

        // attention sur JOIN
        // $sql = 'SELECT `id_vehicle`,`brand`,`model`,`registration`, `mileage`, `picture`, `created_at`, `vehicles`.`id_category`, `categories`.`name`
        // ON clé primaire et clé étrangère
        $sql = 'SELECT * FROM `vehicles` 
        INNER JOIN `categories` ON (`categories`.`id_category` = `vehicles`.`id_category` ) 
        WHERE `deleted_at` ' . $archive . ' ORDER BY `categories`.`name`' .
            "LIMIT $start, $per_page;";


        $sqlAsc = $sql . ';';
        $sqlDesc = $sql . ' DESC;';

        // pour pouvoir trier les catégories selon l'ordre alphabétique 
        // envoyer sur URL / marqueur subsitutive 

        // query : PDOStatement | false
        if ($sortByAsc) {
            $sth = $pdo->query($sqlAsc);
        } else {
            $sth = $pdo->query($sqlDesc);
        }

        $result = $sth->fetchAll(PDO::FETCH_OBJ);

        return $result;
    }
